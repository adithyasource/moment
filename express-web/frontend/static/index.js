class AbstractView{constructor(t){this.params=t}setTitle(t){document.title=t}async getHtml(){return""}}class PostView extends AbstractView{constructor(t){super(t),this.postId=t.id,this.setTitle(`${this.postId}`)}async getHtml(){return`
            <iframe src='https://firebasestorage.googleapis.com/v0/b/moment-4b33f.appspot.com/o/${this.postId}?alt=media' width="100%" height="100%" frameBorder="0" style="padding:0px; margin:0px;"></iframe>`}}const pathToRegex=t=>RegExp("^"+t.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$"),getParams=t=>{let e=t.result.slice(1),a=Array.from(t.route.path.matchAll(/:(\w+)/g)).map(t=>t[1]);return Object.fromEntries(a.map((t,a)=>[t,e[a]]))},navigateTo=t=>{history.pushState(null,null,t),router()},router=async()=>{let t=[{path:"/:id",view:PostView}],e=t.map(t=>({route:t,result:location.pathname.match(pathToRegex(t.path))})),a=e.find(t=>null!==t.result);a||(a={route:t[0],result:[location.pathname]});let r=new a.route.view(getParams(a));document.querySelector("#app").innerHTML=await r.getHtml()};window.addEventListener("popstate",router),document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",t=>{t.target.matches("[data-link]")&&(t.preventDefault(),navigateTo(t.target.href))}),router()});